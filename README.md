## BABS Ticketing and Timesheet system

Both the ticketing and time-recording system have ended up in the same
repository. This is a bit of an historical accident, but seems to work
ok.

### Ticketing

The [index.php](index.php) is the interface that sends form data to
[process.php](process.php). The former form reads the `json` files
that define the options for which lab it is for (auto-generated via
the makefile), and project type and bioinformatician (edited
manually).

On submission, the form values get inserted into the
[template](template.txt) which gets saved in a web directory
accessible to the timesheet system via commands implemented in
(make)[make_ts].

### Timesheets

Timesheets rely on a `.babs` file in your
`working/me/projects/lab/scientist/proj` folder which contains the
metadata about your project (primarily a cost-code, project title, lab
and scientist). Functionality to interact with the ticketing system
(to get that metadata from a scientist-provided ticket) or the
file-system (to get metadata from folder-location) is provided by the
makefile above. Most of the other files in the repo are to implement
the interface where a bioinformatician records their time on the
webpage.

[record.php] is the main front-page, which reads bioinformaticians'
active projects from the `yml` folder (which are auto-generated by the
makefile script whenever a bioinformatician amends their list of
projects). It uses the _d3_ and _knockout_ frameworks to fill out a
table where rows correspond to a bioinformatician's active projects
(it uses the _id_ property from the URL to determine who). Any
existing hours are pulled from the database using the [get_time.php]
script. [project\_hours.php] is used to retrieve the number of hours
already stored in the database, and [submit_entries.php] is
responsible for adding the time entries into the database once the
user presses 'submit'. 


